<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Construis ton systÃ¨me â€” SchÃ©ma-bloc</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div id="app">
      <header class="topbar">
        <div class="brand">ðŸ”§ Construis ton systÃ¨me</div>
        <div class="top-actions">
          <button id="btn-help" class="secondary">Consignes</button>
          <button id="btn-home" class="secondary">Accueil</button>
          <span id="room-indicator"></span>
        </div>
      </header>

      <main id="view-home" class="view">
        <section class="card">
          <h2>Nouvelle session</h2>
          <label>Nom de lâ€™Ã©quipe
            <input type="text" id="team-name" placeholder="Ex: Les Ã‰lectronauts" />
          </label>
          <div class="actions">
            <button id="btn-solo">Solo</button>
            <button id="btn-create">CrÃ©er une salle</button>
          </div>
        </section>
        <section class="card">
          <h2>Rejoindre une salle</h2>
          <label>Code de salle
            <input type="text" id="join-code" placeholder="ABC123" />
          </label>
          <div class="actions">
            <button id="btn-join">Rejoindre</button>
          </div>
        </section>
      </main>

      <main id="view-board" class="view hidden">
        <section class="sidebar">
          <div class="panel">
            <h3>Ã‰quipe</h3>
            <div id="team-display">â€“</div>
          </div>
          <div class="panel">
            <h3>Titre du schÃ©ma</h3>
            <input id="board-title" type="text" placeholder="Donne un titre Ã  ton systÃ¨me" aria-label="Titre du schÃ©ma" />
          </div>
          <div class="panel">
            <h3>Pioche de cartes</h3>
            <button id="btn-draw" aria-label="Piger des cartes">Piger (Ã©quilibrÃ©)</button>
            <div id="drawn-cards" class="cards"></div>
            <div class="alea">
              <strong>AlÃ©a:</strong>
              <span id="alea-display">â€“</span>
            </div>
          </div>
          <div class="panel">
            <h3>Outils</h3>
            <div class="tools">
              <button id="tool-select" class="tool active" data-tool="select" aria-label="Outil sÃ©lection">SÃ©lection</button>
              <button id="tool-energy" class="tool" data-tool="energy" aria-label="Ajouter flÃ¨che Ã©nergie">FlÃ¨che Ã‰nergie</button>
              <button id="tool-signal" class="tool" data-tool="signal" aria-label="Ajouter flÃ¨che signal">FlÃ¨che Signal</button>
              <button id="tool-add-block" class="tool" data-tool="block" aria-label="Ajouter bloc">Ajouter bloc</button>
            </div>
            <div class="grid">
              <label><input type="checkbox" id="toggle-grid" checked /> Grille magnÃ©tique</label>
            </div>
          </div>
          <div class="panel">
            <h3>Adaptation Ã  lâ€™alÃ©a</h3>
            <textarea id="alea-notes" rows="4" placeholder="Comment notre systÃ¨me sâ€™adapte ?"></textarea>
          </div>
          <div class="panel">
            <h3>Exporter / Sauvegarder</h3>
            <button id="btn-export-png" aria-label="Exporter en PNG">Exporter PNG</button>
            <button id="btn-export-pdf" aria-label="Exporter en PDF">Exporter PDF</button>
            <button id="btn-save" class="secondary" aria-label="Sauvegarder">Sauvegarder</button>
            <button id="btn-load" class="secondary" aria-label="Recharger">Recharger</button>
          </div>
        </section>

        <section class="board-wrap">
          <div id="board" class="board"></div>
        </section>
      </main>
    </div>

    <div id="help-modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Consignes de l'activitÃ©">
      <div class="content">
        <div class="close-row"><button id="btn-help-close">Fermer</button></div>
        <h2>ActivitÃ© â€” Construis ton systÃ¨me</h2>
        <ol>
          <li>Pige 4 cartes Â« Ã©lÃ©ments Â» et 1 carte Â« alÃ©a Â».</li>
          <li>DÃ©pose les Ã©lÃ©ments sur le tableau et organise-les.</li>
          <li>Relie les blocs avec des flÃ¨chesÂ :
            Ã‰nergie (rouge, Ã©pais) et Signal (bleu, fin).</li>
          <li>Doubleâ€‘clic sur un bloc ou un lien pour ajouter un texte (ex.: 12Â V, Wiâ€‘Fi).</li>
          <li>Indique comment votre systÃ¨me sâ€™adapte Ã  lâ€™alÃ©a.</li>
          <li>Exportez votre schÃ©ma en PNG ou en PDF.</li>
        </ol>
        <p>Astuce: active/dÃ©sactive la grille magnÃ©tique selon tes besoins.</p>
      </div>
    </div>

    <script src="/app.js"></script>
  </body>
  </html>
